---
layout: "../../layouts/BlogPost.astro"
title: .nojekyll for Github Pages
description: "Lorem ipsum dolor sit amet"
datetime: "2022-11-07"
tags: [gh-pages]
---

Today I deployed the first version of my blog ([wahlstrand.dev](wahlstrand.dev)) after migrating it to a new Static Site
Generator (SSG) ([astro.build](astro.build)). Here is one of the problems I ran into.

I use the [Astro Paper](https://astro-paper.pages.dev/) theme, and publish using Github Pages. Free hosting! ðŸŽ‰. The
theme looks great locally, but when I deployed it didn't look as good. Some of the CSS was missing (visible i the
console as 404s)!

After some head scratching, I found the root cause(s).

1) Astro uses an [island architecture](https://docs.astro.build/en/concepts/islands/), where each component can have its
   own stylesheet (and javascript). They are loaded individually by the browser. For my site it looks this:

![files](/til/img/nojekyll.png)

2. Github Pages uses a SSG called [Jekyll](https://jekyllrb.com/). For some reason, it excludes files and directories
   that start with _ (underscore). This does not work well with the island files generated by Astro.

### Solution

The solution is to tell Githug Pages to not use Jekyll at all. I'm using Astro to generate the site, so I don't need it
after all. To do
this, [we simply create an empty file `.nojekyll`](https://github.blog/2009-12-29-bypassing-jekyll-on-github-pages/) in
the root directory, and redeploy.
